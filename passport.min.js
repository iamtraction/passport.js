/**
 * @copyright 2020 - Sankarsan Kampa
 * @license MIT
 */
const PASSPORT_SUBDOMAIN="passport",API_SUBDOMAIN="ex",buildURL=(t,e)=>{let n;return n=t?"https://"+t+".traction.one":"https://traction.one",e?n+(e.startsWith("/")?"":"/")+e:n},request=t=>window.fetch(t,{credentials:"include",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({}),json:!0}),signInWithPassport=()=>new Promise((t,e)=>{const n=window.open(buildURL("passport"),"_blank","height=600,width=600");let o=window.setInterval(()=>{var s;n.closed&&(clearInterval(o),(s=buildURL("ex","/accounts/verify"),window.fetch(s,{credentials:"include",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({}),json:!0})).then(t=>t.json()).then(n=>{n.username?t(n):e(n)}).catch(e))},1e3)});"undefined"==typeof module&&(module={}),module.exports={signInWithPassport:signInWithPassport};